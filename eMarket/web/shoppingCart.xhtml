<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <link href="monstyle.css" rel="stylesheet" type="text/css" />
        <title>eMarket - HomePage</title>
    </h:head>
    <h:body>
    <f:view>
        <h:form>
        <nav>
            
                <h:commandLink action="fromshoppingcartTohome" class="menu-items" >
                    <h:outputText value="Home"  />
                </h:commandLink>
                <h:commandLink action="fromCartToCatalog" class="menu-items" >
                    <h:outputText value="Catalog"  />
                </h:commandLink>
            
        </nav>

        <div class="cart-item">
            <h:form>
            <h:dataTable class="product" value="#{shoppingCartManager.listCartItems}" var="item">
             
                <h:column >
                    <h:outputText value="#{item.product.name}" styleClass="cart-item-details" />
                </h:column>
                <h:column>
                        <h:commandButton value="➖" action="#{shoppingCartManager.reduceQuantityFromCart()}">
                            <f:setPropertyActionListener value="#{item}" target="#{shoppingCartManager.itemToUpdate}" />
                        </h:commandButton>
                </h:column>
                <h:column>
                    <h:outputLabel value="Quantité: " for="value-cart-item"/>
                    <h:outputText id="value-cart-item" value="#{item.quantity}" styleClass="product-quantity" />
                </h:column>
                
                <h:column>
                        <h:commandButton value="➕" action="#{shoppingCartManager.addQuantityFromCart()}">
                            <f:setPropertyActionListener value="#{item}" target="#{shoppingCartManager.itemToUpdate}" />
                        </h:commandButton>
                </h:column>
                
                <h:column>
                    <h:outputLabel value="Prix " for="value-cart-price"/>
                    <h:outputText id="value-cart-price" value="#{item.product.price} €" styleClass="product-price" />
                </h:column>
                
                <h:column>
                    <h:outputLabel value="Prix total " for="value-cart-total-price"/>
                    <h:outputText id="value-cart-total-price" value="#{item.totalPrice} € " styleClass="product-price" />
                </h:column>  
                
                <h:column>
                        <h:commandButton value="❌" action="#{shoppingCartManager.removeFromCart()}">
                            <f:setPropertyActionListener value="#{item}" target="#{shoppingCartManager.itemToUpdate}" />
                        </h:commandButton>
                    
                </h:column>
                
                
            </h:dataTable>
            </h:form>
            
            
        </div>
       </h:form>
    </f:view>
    </h:body>
</html>
